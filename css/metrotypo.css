/* =========================================
   å•ç¯‡æ–‡ç« é¡µé¢ (Single Post Page)
   ========================================= */
/* 1. æ•´ä½“å¸ƒå±€ï¼šæ¢å¤æ™®é€šå—çº§ï¼Œè®©æ­£æ–‡è‡ªç„¶å æ»¡å®ƒçš„å®¹å™¨ */
.single-layout {
  display: block; 
}
.single-content-area {
  width: 100%;
  max-width: 760px;
  margin: 0 auto; /* ä¿è¯æ­£æ–‡ç»å¯¹å±…ä¸­ */
}

/* 2. å¤´éƒ¨å‘¼å¸æ„Ÿä¸æ’ç‰ˆ */
.single-header {
  padding-top: 40px; /* å¢åŠ é¡¶éƒ¨ç•™ç™½å‘¼å¸æ„Ÿ */
  margin-bottom: 60px;
}

.single-tags {
  margin-bottom: 20px; /* æ ‡ç­¾åœ¨æ ‡é¢˜ä¸Šæ–¹ç•™å‡ºé—´è· */
}

.single-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #111;
  line-height: 1.2;
  margin: 0 0 15px 0;
  letter-spacing: -0.5px;
}

.single-subtitle {
  font-size: 1.3rem;
  font-weight: 400;
  color: #666;
  margin: 0 0 20px 0;
  line-height: 1.5;
}

.single-meta {
  margin-bottom: 0; /* æŠµæ¶ˆä¸»é¡µä¸­çš„ margin */
}

.meta-separator {
  margin: 0 8px;
  color: #ccc;
}

/* 3. æ­£æ–‡åŸºç¡€æ’ç‰ˆ (Typography) */
.single-content {
  font-size: 1.05rem;
  line-height: 1.9;
  color: #333;
}

/* ğŸ–¥ï¸ æ¡Œé¢ç«¯ï¼šå®Œç¾çš„çŸ©å½¢ï¼ˆä¸¤ç«¯å¯¹é½ï¼‰ */
.single-content p {
  margin-bottom: 1.5em;
  text-align: justify; 
  -webkit-hyphens: auto; 
  -ms-hyphens: auto;
  hyphens: auto; 
}

/* ğŸ“± ç§»åŠ¨ç«¯ï¼šå‡åŒ€çš„å­—é—´è· + è½»å¾®å‚å·®çš„å‘¼å¸æ„Ÿå³è¾¹ç¼˜ */
@media (max-width: 768px) {
  .single-content p,
  .post-entry p {
    text-align: left !important; /* å¼ºåˆ¶å·¦å¯¹é½ï¼Œæ¶ˆç­æ¶å¿ƒçš„ç™½æ´ */
    
    /* å¼ºåŒ–è¿å­—ç¬¦æ–­è¯ï¼Œè®©å³è¾¹ç¼˜å°½å¯èƒ½æ•´é½ï¼Œä½†ç»ä¸æ‹‰æ‰¯å•è¯å†…éƒ¨é—´è· */
    overflow-wrap: break-word;
  }
}

/* =========================================
   æ­£æ–‡æ ‡é¢˜å±‚çº§ (Headings Typography)
   ========================================= */
.single-content h2, 
.single-content h3, 
.single-content h4 {
  color: #111;
  font-weight: 700;
  line-height: 1.3;
}

/* H2ï¼šä½œä¸ºç« èŠ‚ä¸»èŠ‚ç‚¹ï¼Œç»™äºˆå·¨å¤§çš„é¡¶éƒ¨å‘¼å¸æ„Ÿå’Œæç»†çš„åº•è¾¹æ¡†åˆ†å‰² */
.single-content h2 {
  font-size: 1.8rem;
  margin-top: 3.5rem; /* æå…¶å¤¸å¼ çš„é¡¶éƒ¨ç•™ç™½ï¼Œå½¢æˆè‡ªç„¶çš„è§†è§‰åˆ†å— */
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #eaeaea; /* æç»†çš„åˆ†å‰²çº¿ï¼Œæ¯”ä¼ªå…ƒç´ é«˜çº§å¾—å¤š */
  letter-spacing: -0.5px;
}

/* H3ï¼šæ¬¡çº§èŠ‚ç‚¹ï¼Œç´§å‡‘æœ‰åŠ› */
.single-content h3 {
  font-size: 1.4rem;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
}

/* H4ï¼šå¼ºè°ƒèŠ‚ç‚¹ï¼Œä½¿ç”¨æ·±ç°å’Œç¨å¾®å°çš„å­—å· */
.single-content h4 {
  font-size: 1.15rem;
  color: #333;
  margin-top: 2rem;
  margin-bottom: 0.8rem;
}

/* --- æ­£æ–‡å†…éƒ¨è¶…é“¾æ¥ä¸“å±æ ·å¼ (In-text Links) --- */

/* åªé€‰ä¸­ .single-content å†…éƒ¨çš„ a æ ‡ç­¾ï¼Œæ’é™¤ç›®å½• #TableOfContents é‡Œçš„ a */
.single-content a:not(#TableOfContents a) {
  color: var(--primary-color); /* é»˜è®¤çŠ¶æ€ï¼šè“ç»¿è‰²ä¸»é¢˜è‰² */
  text-decoration: none; /* é»˜è®¤æ— ä¸‹åˆ’çº¿ï¼Œä¿æŒçº¯å‡€ */
  font-weight: 500; /* ç¨å¾®åŠ ç²—ä¸€ç‚¹ç‚¹ï¼Œä»æ™®é€šæ–‡æœ¬ä¸­è·³è„±å‡ºæ¥ */
  /* ä¸ºé¢œè‰²å’Œä¸‹åˆ’çº¿æ·»åŠ è¿‡æ¸¡åŠ¨ç”» */
  transition: color 0.3s ease, text-decoration-color 0.3s ease;
  /* é¢„è®¾ä¸€æ¡é€æ˜çš„ä¸‹åˆ’çº¿ï¼Œé˜²æ­¢ hover æ—¶äº§ç”Ÿæ’ç‰ˆæŠ–åŠ¨ */
  text-decoration: underline;
  text-decoration-color: transparent;
  text-underline-offset: 4px; /* è®©ä¸‹åˆ’çº¿ç¦»æ–‡å­—è¿œä¸€ç‚¹ï¼Œæ›´æœ‰ç°ä»£å‘¼å¸æ„Ÿ */
  text-decoration-thickness: 2px;
}

/* é¼ æ ‡æ‚¬æµ®ï¼šè½¬ä¸ºæ·±ç§‹æ©˜ï¼Œå¹¶æ˜¾ç°ä¸‹åˆ’çº¿ */
.single-content a:not(#TableOfContents a):hover {
  color: var(--accent-color); /* è¾…åŠ©è‰²ï¼šæ·±ç§‹æ©˜ */
  text-decoration-color: var(--accent-color); /* ä¸‹åˆ’çº¿ä¹Ÿå˜æˆæ©˜è‰² */
}

/* =========================================
   å­¦æœ¯å¼•ç”¨æ’ç‰ˆ (Blockquotes)
   ========================================= */
.single-content blockquote {
  margin: 3rem 0; /* ä¸Šä¸‹ç•™å‡ºå·¨å¤§å‘¼å¸æ„Ÿ */
  padding: 1.2rem 1.5rem 1.2rem 2rem; /* å·¦ä¾§ç•™å‡ºæ›´å¤šç©ºé—´ */
  
  /* ğŸ¯ æ ¸å¿ƒ Metro åŸºå› ï¼šæå…¶ç¡¬æœ—çš„å·¦ä¾§æ ‡è¯†çº¿ */
  border-left: 4px solid var(--primary-color, #26a69a);
  
  /* æå…¶å…‹åˆ¶çš„èƒŒæ™¯åº•è‰² (æ°´é¸­ç»¿çš„ 5% é€æ˜åº¦) */
  background-color: rgba(38, 166, 154, 0.04); 
  border-radius: 0 4px 4px 0; /* å·¦è¾¹çº¯ç›´è§’ï¼Œå³è¾¹æå…¶è½»å¾®çš„åœ†è§’åŒ–è§£é”‹èŠ’ */
}

/* å¼•ç”¨å†…å®¹çš„æ–‡å­—è´¨æ„Ÿ */
.single-content blockquote p {
  margin: 0;
  font-size: 1.15rem; /* å­—å·ç¨å¾®æ”¾å¤§ï¼Œå½°æ˜¾åˆ†é‡ */
  font-style: italic; /* å­¦æœ¯å¼•ç”¨æ ‡å‡†çš„æ–œä½“ */
  color: #555; /* é¢œè‰²ç¨å¾®å‹æš—ï¼Œä¸æ­£æ–‡æ‹‰å¼€å±‚æ¬¡ */
  line-height: 1.7;
}

/* å¦‚æœå¼•ç”¨æœ‰å¤šæ®µï¼Œæ®µè½ä¹‹é—´ä¿ç•™é—´è· */
.single-content blockquote p + p {
  margin-top: 1rem;
}

/* =========================================
   è¡Œå†…ä»£ç  (Inline Code)
   ========================================= */
/* ä»…é’ˆå¯¹æ®µè½ã€åˆ—è¡¨å’Œè¡¨æ ¼é‡Œçš„ä»£ç ï¼Œä¸å½±å“ç‹¬ç«‹çš„ä»£ç å— */
.single-content p code,
.single-content li code,
.single-content table code {
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
  font-size: 0.85em; /* ç¨å¾®ç¼©å°ä¸€ç‚¹ï¼ŒåŒ¹é…æ­£æ–‡è§†è§‰å¤§å° */
  color: #d63200; /* ğŸ¯ æå®¢æš—æ©™çº¢è‰²ï¼Œåœ¨é˜…è¯»æ—¶ä¸€çœ¼å°±èƒ½çœ‹åˆ°å˜é‡å */
  background-color: rgba(0, 0, 0, 0.05); /* ææ·¡çš„ç°åº•ï¼Œä»£æ›¿è¾¹æ¡† */
  padding: 0.2em 0.4em;
  border-radius: 3px;
  word-break: break-word; /* é˜²æ­¢é•¿å˜é‡åæ’‘çˆ†å±å¹• */
}

/* =========================================
   å­¦æœ¯çº§è¡¨æ ¼ (Tables) - Booktabs é£æ ¼
   ========================================= */
.single-content table {
  width: 100%;
  border-collapse: collapse; /* åˆå¹¶è¾¹æ¡† */
  margin: 3rem 0; /* å·¨å¤§çš„ä¸Šä¸‹å‘¼å¸æ„Ÿ */
  font-size: 0.95rem;
}

/* Metro é£æ ¼æ‹’ç»ç«–çº¿ï¼Œåªç”¨æç®€çš„æ¨ªå‘åˆ†å‰²çº¿ */
.single-content th, 
.single-content td {
  padding: 14px 16px;
  text-align: left;
  border-bottom: 1px solid #eaeaea; /* æ•°æ®è¡Œä¹‹é—´ç”¨æç»†çš„æ·¡ç°çº¿ */
}

.single-content th {
  font-weight: 700;
  color: #111;
  /* ğŸ¯ é¡¶åˆŠå¸¸ç”¨çš„ä¸‰çº¿è¡¨é£æ ¼ï¼šè¡¨å¤´ä¸‹é¢æ˜¯ä¸€æ ¹æœ‰åˆ†é‡çš„é»‘çº¿ */
  border-bottom: 2px solid #111; 
  background-color: rgba(0, 0, 0, 0.02); /* è¡¨å¤´ææ·¡çš„åŒºåˆ†åº•è‰² */
}

/* =========================================
   åˆ—è¡¨ (Lists: ul, ol) - ç»ˆææ‰å®ç‰ˆ
   ========================================= */

/* å…±åŒçš„åŸºç¡€è®¾ç½®ï¼šæ•´ä½“å·¦ä¾§ç¼©è¿›ï¼Œç»™ç¬¦å·ç•™è¶³å®‰å…¨åŒº */
.single-content ul, 
.single-content ol {
  padding-left: 28px; 
  margin: 1.5rem 0;
}

.single-content li {
  margin-bottom: 0.8rem; /* ç¨å¾®æ‹‰å¤§è¡Œä¸è¡Œä¹‹é—´çš„è·ç¦» */
  line-height: 1.7;
  color: #333; /* å­—ä½“é¢œè‰²ç¨å¾®åŠ æ·±ï¼Œé…åˆåˆ—è¡¨çš„é‡é‡æ„Ÿ */
}

/* -----------------------------------------
   1. æ— åºåˆ—è¡¨ (ul)ï¼šæœ‰åˆ†é‡çš„æ·±ç°æ–¹å—
   ----------------------------------------- */
.single-content ul {
  list-style: none; /* å…³æ‰é»˜è®¤åœ†ç‚¹ */
}

.single-content ul li {
  position: relative;
}

.single-content ul li::before {
  content: "";
  position: absolute;
  left: -24px; 
  top: 0.55em; 
  width: 12px;
  height: 12px;
  /* ğŸ¯ æ ¸å¿ƒé­”æ³•ï¼šå»æ‰èƒŒæ™¯è‰²ï¼Œæ”¹ç”¨ 2px çš„ç²—è¾¹æ¡†æ‰“é€ ç©ºå¿ƒæ„Ÿ */
  border: 3px solid #555; 
  background-color: transparent; 
  box-sizing: border-box; /* ç¡®ä¿è¾¹æ¡†è®¡ç®—åœ¨å°ºå¯¸å†… */
}

/* -----------------------------------------
   2. æœ‰åºåˆ—è¡¨ (ol)ï¼šåŸç”Ÿæ•°å­— + å‘¼å¸é—´è·
   ----------------------------------------- */
.single-content ol {
  list-style: decimal outside; /* æ¢å¤åŸç”Ÿæ•°å­—ï¼ŒæŒ‚åœ¨å¤–éƒ¨ */
}

.single-content ol li {
  /* ğŸ¯ æ ¸å¿ƒé­”æ³•ï¼šåˆ©ç”¨ padding-left æŠŠæ–‡å­—å¾€å³æ¨ï¼Œå¼ºè¡Œåœ¨æ•°å­—å’Œæ–‡å­—ä¹‹é—´æ’‘å¼€å‘¼å¸æ„Ÿï¼ */
  padding-left: 8px; 
}

/* é’ˆå¯¹æœ‰åºåˆ—è¡¨é‡Œçš„åµŒå¥—æ— åºåˆ—è¡¨ï¼Œå¾®è°ƒä¸€ä¸‹é—´è· */
.single-content ol ul {
  margin: 0.5rem 0;
}

/* =========================================
   æ­£æ–‡å›¾ç‰‡æ’ç‰ˆç³»ç»Ÿ (Image Typography)
   ========================================= */

/* 1. å¤–å±‚å›¾æ³¨å®¹å™¨ï¼šé‡ç½®æµè§ˆå™¨é»˜è®¤è¾¹è· */
.metro-figure {
  margin: 2.5rem 0; /* ä¿æŒä½ åŸæ¥çš„ä¸Šä¸‹å‘¼å¸æ„Ÿ */
  text-align: center; /* é»˜è®¤å›¾æ³¨å’Œå›¾ç‰‡å±…ä¸­ */
  display: block;
}

/* 2. å•å¼ å›¾ç‰‡çš„ä¼˜é›…çº¦æŸä¸æ‚¬æµ®è´¨æ„Ÿ */
.metro-figure img {
  max-width: 90%; /* è§£å†³å¤ªå®½ï¼šå·¦å³ç•™å‡ºä¼˜ç¾çš„å‘¼å¸æ„Ÿ */
  max-height: 55vh; /* è§£å†³å¤ªé«˜ï¼šæœ€é«˜åªå å±å¹•é«˜åº¦çš„ 55% */
  width: auto; /* ä¿è¯ç­‰æ¯”ç¼©æ”¾ */
  display: block;
  margin: 0 auto; 
  border-radius: 4px; /* æè½»å¾®åœ†è§’ */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.04); /* ç¯ç®±æš—ç¤ºé˜´å½± */
  cursor: zoom-in; /* æç¤ºå¯ç‚¹å‡»æ”¾å¤§ */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* å›¾ç‰‡æ‚¬åœæ—¶å¾®å¾®ä¸Šæµ®åé¦ˆ */
.metro-figure img:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
}

/* 3. å›¾æ³¨æ–‡å­—ï¼šå­¦æœ¯æ–‡çŒ®çº§çš„å±‚çº§å¼±åŒ– */
.metro-caption {
  margin-top: 1rem;
  font-size: 0.85rem;
  font-family: sans-serif;
  color: #888;
  line-height: 1.6;
  font-style: italic; /* é¡¶åˆŠæ ‡å‡†å›¾æ³¨æ–œä½“ */
}

.metro-caption strong {
  color: #555;
}

/* =========================================
   4. å¤šå›¾å¹¶æ’ç”»å»Š (ç›¸é‚»å…„å¼Ÿå…ƒç´ è¯†åˆ«é­”æ³•)
   ========================================= */
/* ğŸ¯ æ ¸å¿ƒé€»è¾‘ï¼š
   å¦‚æœä¸€ä¸ª figure åé¢ç´§è·Ÿç€å¦ä¸€ä¸ª figureï¼Œæˆ–è€…å®ƒè‡ªå·±å°±æ˜¯è·Ÿç€åˆ«äººçš„ figureï¼Œ
   è¯´æ˜å®ƒä»¬æ˜¯è¿ç»­å‘å‡ºçš„å›¾ç‰‡ï¼Œè‡ªåŠ¨ç»„æˆç½‘æ ¼ï¼
*/
.metro-figure:has(+ .metro-figure),
.metro-figure + .metro-figure {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  
  /* ç»™æ¯å¼ å›¾åˆ†é…å¤§çº¦ 48% çš„å®½åº¦ï¼Œç•™å‡ºä¸­é—´çš„ç¼éš™ */
  width: calc(48% - 10px); 
  margin: 1.5rem 1%; 
  vertical-align: top; /* ç¡®ä¿é¡¶éƒ¨ç»å¯¹å¯¹é½ */
}

/* åœ¨å¹¶æ’ç”»å»Šä¸­ï¼Œé™åˆ¶å›¾ç‰‡æœ€å¤§é«˜åº¦ï¼Œé˜²æ­¢å› ä¸ºæ¯”ä¾‹ä¸åŒæ˜¾å¾—çªå…€ */
.metro-figure:has(+ .metro-figure) img,
.metro-figure + .metro-figure img {
  max-width: 100%;
  max-height: 40vh; /* å¹¶æ’æ—¶å›¾ç‰‡çŸ®ä¸€ç‚¹æ›´ç²¾è‡´ */
}

/* =========================================
   5. ç§»åŠ¨ç«¯ç”»å»Šä¿æŠ¤
   ========================================= */
@media (max-width: 600px) {
  /* å±å¹•å¤ªçª„æ—¶ï¼Œå¼ºåˆ¶å–æ¶ˆå¹¶æ’ï¼Œæ¢å¤å•åˆ—æ˜¾ç¤º */
  .metro-figure:has(+ .metro-figure),
  .metro-figure + .metro-figure {
    display: block;
    width: 100%;
    margin: 2rem 0;
  }
}

/* ä¾§è¾¹æ‚¬æµ®ç›®å½• (TOC) - æ™ºèƒ½æ‚¬æµ®ç‰ˆ */
.single-sidebar {
  position: fixed; /* ä¿æŒè„±ç¦»æ–‡æ¡£æµçš„éœ¸é“å®šä½ */
  
  /* èµ·å§‹é«˜åº¦å¯¹é½ä½ çš„ metadata */
  top: 280px; 
  
  /* ç²¾ç¡®çš„å³ä¾§å®šä½ */
  left: calc(50% + 380px + 80px); 
  width: 260px; 
  max-height: calc(100vh - 320px); 
  overflow-y: auto;
  scrollbar-width: none; 
  
  /* ã€æ–°å¢æ ¸å¿ƒã€‘ä¸ºåç»­çš„æ™ºèƒ½æ·¡å‡ºæ·»åŠ ä¸æ»‘åŠ¨ç”» */
  transition: opacity 0.4s ease, visibility 0.4s ease, transform 0.4s ease;
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}


.single-sidebar::-webkit-scrollbar { display: none; }

/* æ™ºèƒ½éšè—çŠ¶æ€çš„ Classï¼ˆç”± JS æ§åˆ¶ï¼‰ */
/* ğŸ¯ ä»…åœ¨æ¡Œé¢ç«¯(>1350px) ç›®å½•å¸¸é©»æ—¶ï¼Œæ‰å…è®¸ Footer è§¦å‘æ·¡å‡ºæ•ˆæœã€‚
   é˜²æ­¢æ±¡æŸ“ç§»åŠ¨ç«¯å’Œå¹³æ¿ç«¯çš„é£å…¥åŠ¨ç”»ã€‚ */
@media (min-width: 1351px) {
  .single-sidebar.fade-out {
    opacity: 0;
    visibility: hidden;
    transform: translateY(-20px); /* æ¶ˆå¤±æ—¶å¾®å¾®å‘ä¸Šæµ®åŠ¨ï¼Œæ›´æœ‰é«˜çº§æ„Ÿ */
    pointer-events: none; /* æ¶ˆå¤±åé¼ æ ‡æ— æ³•ç‚¹å‡»ï¼Œé˜²æ­¢é®æŒ¡åº•å±‚æ–‡å­— */
  }
}

/* =========================================
   å“åº”å¼ç›®å½• (TOC) æ¡Œé¢ä¸¤æ®µå¼æ¶æ„
   ========================================= */

/* -----------------------------------------
   [é˜¶æ®µ 1] 1351px - 1440px: å³ä¾§å¼¹æ€§è´´è¾¹
   ç©ºé—´è¶³å¤Ÿï¼Œæ”¾å¼ƒå±…ä¸­ï¼Œæ­»æ­»è´´ä½å±å¹•å³è¾¹ç¼˜
   ----------------------------------------- */
@media (max-width: 1440px) and (min-width: 1351px) {
  .single-sidebar {
    left: auto !important;
    right: 20px !important; /* ç•™ä¸€ç‚¹å®‰å…¨è·ç¦» */
  }
}

/* -----------------------------------------
   [é˜¶æ®µ 2] 1001px - 1350px: Metro å³ä¾§é£å…¥é¢æ¿
   å°å±å¹•ç¬”è®°æœ¬/æ¨ªå±å¹³æ¿ï¼šç©ºé—´ä¸å¤Ÿï¼Œæ”¶èµ·è¿›å³ä¸‹è§’æŒ‰é’®ï¼Œç‚¹å‡»åä»å³ä¾§æ»‘å‡º
   ----------------------------------------- */
@media (max-width: 1350px) and (min-width: 1001px) {
  .single-sidebar {
    display: block !important; /* å–æ¶ˆåŸæ¥çš„éšè— */
    position: fixed;
    top: 0; 
    right: 0; 
    left: auto !important; /* è¦†ç›–åŸæœ¬çš„ left å®šä½ */
    width: 320px; /* ç»™ä¸€ä¸ªå›ºå®šçš„èˆ’é€‚é˜…è¯»å®½åº¦ */
    height: 100vh; /* æ’‘æ»¡æ•´ä¸ªå±å¹•é«˜åº¦ */
    max-height: 100vh; 
    background: #ffffff;
    z-index: 999;
    padding: 60px 30px 40px; /* å†…éƒ¨å‘¼å¸æ„Ÿï¼Œé¡¶éƒ¨ç•™å‡ºç©ºé—´ */
    
    /* ğŸ¯ æå…¶ç¡¬æ ¸çš„ Metro å·¦ä¾§å‹è¾¹çº¿ï¼Œä»£æ›¿åŸæ¥çš„é¡¶éƒ¨å‹è¾¹çº¿ */
    border-top: none;
    border-left: 4px solid var(--primary-color);
    /* 1. é»˜è®¤çŠ¶æ€ä¸‹ï¼ŒæŠŠé˜´å½±å…³æ‰ï¼Œä¸è®©å½±å­æ¼è¿›å±å¹• */
    box-shadow: none; 
    
    transform: translateX(100%);
    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), 
                box-shadow 0.4s ease; /* è®©é˜´å½±ä¹Ÿå¹³æ»‘è¿‡æ¸¡ */
  }
  
  .single-sidebar.sheet-open {
    transform: translateX(0);
    /* 2. é¢æ¿æ»‘å‡ºæ—¶ï¼Œå†æŠŠå·¦ä¾§é˜´å½±æ‰“å¼€ */
    box-shadow: -10px 0 30px rgba(0,0,0,0.1);
  }
}

.toc-title {
  display: block;
  font-size: 0.85rem;
  font-family: sans-serif;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #999;
  margin-bottom: 15px;
}

/* ç›®å½•åˆ—è¡¨æ ·å¼é‡ç½®ä¸æŠ˜å äº¤äº’ */
#TableOfContents > ul {
  list-style: none;
  padding: 0;
  margin: 0;
  /* å·¦ä¾§è¾¹æ¡†ä½œä¸ºé˜…è¯»æŒ‡ç¤ºçº¿ */
  border-left: 2px solid #f0f0f0; 
}

#TableOfContents li { margin-bottom: 10px; }
/* --- ä¸æ»‘çš„äº¤äº’åŠ¨ç”» --- */
#TableOfContents a {
  display: block;
  font-size: 0.9rem;
  color: #666;
  text-decoration: none;
  padding-left: 15px;
  /* ä¸ºé¢œè‰²å’Œå·¦ä¾§æŒ‡ç¤ºçº¿(å†…é˜´å½±)æ·»åŠ è¿‡æ¸¡åŠ¨ç”» */
  transition: color 0.3s ease, box-shadow 0.3s ease; 
  line-height: 1.6; /* ç¨å¾®å¢åŠ è¡Œé«˜ï¼Œæå‡é•¿æ ‡é¢˜çš„é˜…è¯»æ„Ÿ */
}

#TableOfContents a:hover { color: var(--primary-color); }

/* é‡ç‚¹ï¼šé«˜äº®å½“å‰é˜…è¯»çš„ç« èŠ‚ */
#TableOfContents a.active {
  color: var(--primary-color);
  font-weight: 700;
  /* é€šè¿‡å†…é˜´å½±æ¨¡æ‹Ÿå·¦ä¾§æŒ‡ç¤ºçº¿çš„ç§»åŠ¨ */
  box-shadow: inset 2px 0 0 0 var(--primary-color); 
}

/* è§£å†³ç¬¬3ä¸ªé—®é¢˜ï¼šåºŸå¼ƒ display: noneï¼Œä½¿ç”¨ max-height åˆ¶é€ ä¸æ»‘å±•å¼€åŠ¨ç”» */
#TableOfContents ul ul {
  list-style: none;
  max-height: 0; /* é»˜è®¤é«˜åº¦ä¸º0 */
  opacity: 0;    /* é»˜è®¤é€æ˜ */
  overflow: hidden; /* éšè—æº¢å‡ºå†…å®¹ */
  padding-left: 15px;
  margin-top: 0;
  /* é«˜åº¦ã€é€æ˜åº¦å’Œå¤–è¾¹è·ä¸€èµ·å¹³æ»‘è¿‡æ¸¡ */
  transition: max-height 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), 
              opacity 0.4s ease, 
              margin-top 0.4s ease;
}

/* å±•å¼€çŠ¶æ€ */
/* å½“çˆ¶çº§ H2 è¢«æ ‡è®°ä¸º active æ—¶ï¼Œå±•å¼€å®ƒä¸‹é¢çš„æ¬¡çº§ç›®å½• */
#TableOfContents li.active-parent > ul {
  max-height: 800px; /* è®¾ä¸€ä¸ªè¶³å¤Ÿå¤§çš„é«˜åº¦ä»¥å®¹çº³å­æ ‡é¢˜ */
  opacity: 1;
  margin-top: 10px;
}

/* ğŸ¯ æå…¶ç¡¬æœ—çš„ Metro é£æ ¼åˆ†å‰²çº¿ */
.single-content hr {
  border: none;
  height: 3px; 
  width: 60px; 
  background-color: #999999;
  margin: 60px 0; /* å·¦å¯¹é½ï¼Œä¸Šä¸‹ç•™å‡ºå·¨å¤§å‘¼å¸æ„Ÿ */
}

/* =========================================
   æç®€ç¯ç®±ç³»ç»Ÿ (Vanilla Lightbox) - æ ·å¼è¡¥å›
   ========================================= */
.metro-lightbox {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  /* 95% é€æ˜åº¦çš„çº¯ç™½è‰²èƒŒæ™¯ï¼Œæå…·ç°ä»£ç”»å»Šçš„é«˜çº§æ„Ÿ */
  background-color: rgba(255, 255, 255, 0.95); 
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
  
  /* é»˜è®¤éšè—ä¸æ·¡å…¥åŠ¨ç”» */
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.metro-lightbox.active {
  opacity: 1;
  pointer-events: auto;
  cursor: zoom-out; /* æç¤ºç‚¹å‡»ç¼©å° */
}

.metro-lightbox img {
  max-width: 95vw; 
  max-height: 95vh; 
  border-radius: 4px;
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15); 
  
  /* ç¼©æ”¾é˜»å°¼åŠ¨ç”» */
  transform: scale(0.9); 
  transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.metro-lightbox.active img {
  transform: scale(1);
}



/* =========================================
   ç§»åŠ¨ç«¯ç›®å½•æŠ½å±‰ (Bottom Sheet) & é®ç½©å±‚
   ========================================= */
.toc-backdrop {
  position: fixed;
  top: 0; left: 0; width: 100vw; height: 100vh;
  background: rgba(0, 0, 0, 0.5); /* åŠé€æ˜é»‘é®ç½© */
  z-index: 998;
  opacity: 0; pointer-events: none;
  transition: opacity 0.3s ease;
}
.toc-backdrop.show { opacity: 1; pointer-events: auto; }

@media (max-width: 1000px) {
  /* é‡æ„åŸæ¥çš„å•é¡µä¾§è¾¹æ ï¼Œå˜æˆæŠ½å±‰ */
  .single-sidebar {
    display: block !important; /* å–æ¶ˆåŸæ¥çš„éšè— */
    position: fixed;
    top: auto; 
    bottom: 0; 
    left: 0;
    width: 100vw;
    max-height: 65vh; /* æœ€å¤šå æ®å±å¹• 65% */
    background: #ffffff;
    z-index: 999;
    padding: 30px 20px 40px; /* å†…éƒ¨å‘¼å¸æ„Ÿ */
    
    /* Metro é£æ ¼çš„å¼ºåŠ›é¡¶éƒ¨å‹è¾¹çº¿ï¼Œç»ä¸è¦åœ†è§’ï¼ */
    border-top: 4px solid var(--primary-color);
    box-shadow: 0 -10px 30px rgba(0,0,0,0.1);
    
    /* é»˜è®¤è—åœ¨å±å¹•ä¸‹æ–¹ */
    transform: translateY(100%);
    transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  }
  
  /* è§¦å‘å¼¹å‡ºçš„ç±» */
  .single-sidebar.sheet-open {
    transform: translateY(0);
  }
}